## 网页制作

### 设计

#### 选择样式

 

设计头部

公共头部模块引用

选择图片

编辑更换头部内容

选择应用模块

点击模块 进行 样式大小动画编辑

页面模块的顺序是按左边模块顺序排列 可滑动模块顺序进行页面模块修改

### 表单

新增表单

表单组件

单行文本

单选框,复选框

富文本

地址 产品列表(需要有支付宝账户才可以使用 ,类似订单列表,购物车)

单行文本  字段类型  IP地址  邮箱 超链接

级联选项

编辑选项(未知)

注意:

单选框 复选框 图片复选框中选项不能重复

应用 和 admin管理类似 里面可以添加商品数据 和各种模块数据

### 分销系统管理

可以以管理员的身份看到 自己所承包的客户是哪些 方便与客户进行沟通交流和权限的设置

里面可以查看自己的上下级

可以添加分销员 可以查看统计

可以查看分销等级  查看额度  累计佣金 累计消费 店铺状态 

管理员还可以进行对该店铺进行一些操作 查看店铺详情和禁用用户 

分销订单管理 

查看订单日期 获得佣金用户 下级用户  订单状态 佣金金额

分销金额记录

查看用户金额的记录 可以查看用户的消费支出的类型以及情况

分销提现管理

查看用户提现申请的记录以及目前的申请状态,还有用户的收款帐号信息

分销系统设置

分销申请设置 查看用户是否有申请资格和申请是否需要审核等其他情况

分销提现设置, 设置用户在达到什么金额时才可以进行提现

分销规则管理,你可以进行增加或删除分销规则,也可以将一个分销规则设置为所以产品默认的分销规则

### 项目管理

项目:查看自己的 项目和公开的项目,需求单上的项目 收藏的项目

需求面板:用来展示全部需求 可以通过筛选 筛选出自己所提的需求以及我参与的需求

### 门店与员工

企业门店管理

可以查看门店地址  员工数量及会员数量

员工角色管理,赋予员工一定的权限 去做一些事情而不想让他看到其他东西

员工管理 员工的基本信息 角色 

### SEO

seo是搜索引擎优化(是一种通过了解引擎的运作规则来调整网站.以及提高目地的网站在有关搜索引擎内平排名的方式)

seo检测  查看网站的名称网址标题关键字响应时间等其他信息

关键词监控

可以自定义关键词  对百度 百度手机 360等其他平台进行进行计算出现该关键字的次数

关键词挖掘

对数据v进行关键词查找

爬虫分析 对各个网站每个月进行爬虫 然后统计每月各网站的爬虫次数

链接重定向

源链接必须是商家域名下的链接 并且添加的格式需要按照类似http://xxx.xxx.xxx/xxx/xxx的格式进行添加.链接中#号之后的部分会被移除,最好手动移除#号以及之后的内容确保链接正确

域名重定向:

初始域名  -----目标域名

推送链接

第一步 去百度站长平台进行注册

第二步 登陆平台之后前往管理站点页面 添加您的站点并且根据v提示进行验证

第三步

前往链接提交页面 找到借口调用地址然后在本页面上方填入此地址,点击推送链接即可完成链接推送

### 产品信息

列表管理

可以查看商品的ID 名称 分类 

可以对商品进行增删改

可以对商品进行分类

商品的分类管理

一个父类可以拥有多个子类

产品促销

可以对优惠商品进行时间上优惠的限制,也可以将商品从优惠列表里面移除

商城的设置

登陆注册

需要手机号:用户必须填写手机号才能下单

需要微信号:用户必须关注微信公众号才能下单

积分规则

商城购物积分:

用户每购买一次获得的积分为该单金额的50%

商城评价积分:

用户每评价一次获得10积分

手机端小程序

设计 首页 - 设计公共头部 尾部 设计 下方按钮所在页面

然后 设计产品列表展示页面 设计产品详细信息页面

设计购物车 页面 设计结算页面 

设计新闻动态页面

设计个人中心 包括 订单管理 收藏管理 评价管理 收获地址 发票管理 分销中心

### 订单管理

全部订单列表展示

可以通过支付方式 商品ID 用户 下单时间进行搜索和筛选

可以查看订单详情  收货人的信息 快递公司信息

### 售后管理

可以通过商品 或者用户和时间还有评价星级 对商品进行筛选





### 模块的样式设置

 基本包括  整体 内部 动画 动态  关于 事件 这个几方面

整体 ::

 上下左右边距的调整  边框的样式 border 背景颜色 背景类型 

旋转模块  2D支持IE9以上版本浏览器

3D旋转 通过调节X,Y,Z轴的角度.以及透视距离

倾斜  分为水平倾斜和垂直倾斜

缩放

内部::

模块的高度,条目的行高,背景颜色 ,边框颜色,边框宽度,边框圆角,边框类型

边框激活颜色,背景激活颜色

一级分类

宽度 背景颜色 边框圆角 边框类型 背景激活颜色 文字颜色 文字大小 字体 字体加粗  下划线 文字激活下划线 文字激活光标

二级分类

距左间距  宽度 距右间距 文字颜色 文字大小 字体加粗 字体 下划线 文字激活颜色 文字激活下划线 文字激活光标 边框颜色  边框宽度 边框类型 边框激活颜色

动画 类似于PPT里的动画 渲染图片时动态渲染

动态 可以改变里面的内容 但必须是管理员之前所存在的列表信息

关于 可以查看该组件的详细信息 例如 作者 分类 编号等等

还可以反馈此组件的问题

事件

加载后隐藏组件 

点击后显示组件 

点击后隐藏事件

点击后显示或隐藏组件

点击后播放某个组件的动画

点击后播放那个当前模块全部组件的动画

(微场景)点击后跳转到指定页面

通用事件



滚动带标签

是否自动滚动  切换显示数量

切换滚动间隔 底部圆点是否显示

底部圆点定位 底部圆点大小



明天任务

网页 应用 组件 

今天看过的 明天抓小细节在过一次

官方文档 应用文档 

前端 到 开发工具部分

商品属性  

产地  属性 1234 在 商品详情页面上查看

商品规格  购买时选择 商品颜色大小 



# day 2

数据集管理

支持的字段类型

文本:

选择性文本:select char 255

文本: text char 255

图片:image char 255 

颜色:color char 255

经纬度: position char 255

富文本: richtext TEXT

布尔值: bool bool

数字: number  Or(int float)

外键: foreignkey Or(None,int, UUID4)

多对多关系: many to many   [UUID4]

时间日期: datetime  ISO 8601 String

字典:  dict   dict

列表 : list    list

通用条目:   pitem    Or(None,int)

为了和其他系统的Django Model  交互   我们通过pitem 外键的方式存储系统Model的id

siteuser   siteuser用户

order   order  订单

pform   pform 表单

pformdata  pformdata  表单数据v

papp  paap 应用

pappevent  pappevent 应用事件

coupon  coupon  卡券模型

couponcard couponcard 卡券

payment  payment 支付方式

addressbook addressbook 收货地址

area  area  地区

product product 产品

pitem  pitem

pcategory pcategory

ptag ptag  标签

数据v集 新增删除

先删除原字段,删除后执行Migrate,此操作会删除所有字段书籍v

第二步 在添加相同名称不同类型的字段,保存后执行Migrate

此操作会给所有数据行赋值默认值

数据集调试和运维工具

应用编辑器  数据集/数据表管理 可以简单的查看/修改当前的开发数据集

应用编辑器  运维/商家使用列表 可以查看和 管理所以商家的所有 数据集

数据集权限控制

API针对前端直接发那个问的API实现了一套权限机制,保证基本的数据安全

在数据集编辑界面可以直接编辑数据表和字段的权限,编辑完成保存即可

读取和删除权限只能在表级权限设置

每个字段的读取和修改保证了对应字段是否可以被相应接口显示或

修改

权限生生效范围:

app.createRow()

如果 对应表:所有用户是否可以创建,创建的数据行 不关联用户

如果 对应表:登陆用户是否可以创建,创建的数据行自动关联用户,我们把这条记录叫做用户数据行

这种设置 只需要管理员查看的内部数据表

app.updateRow()

如果是 用户数据行 则检查 对应表:登陆用户是否可以修改,否则检查 对应表:所有用户是否可以修改

如果是用户数据行  检查  对应用户是否可以修改

如果不是用户数据行 检查 所有用户是否可以修改

app.removeRow()

如果是用户数据行  检查 登陆用户是否可以删除,否则检查 所有用户是否可以删除

app.getRows()

如果 所有用户是否可以读取 ,返回所有结果

如果 登陆用户是否可以读取  返回登陆用户对应的用户数据行

数据表中每行数据有一个UUID字段,这个字段在但个数据集范围是唯一的.基于这个前提,我们通过在数据表中保存其他行的UUID,即可实现外键关系,保存多个字段即可实现简单的多对多关系

数据字段规范

foreignkey 字段使用_uuid后缀

manytomany 字段使用 _uuids后缀

pitem 字段使用_id后缀,如 siteuser_id

数据查询

query对象

table_name 查询的表名称

limit 分页限制数量

offset 分页偏移量

filters  过滤条件

excludes  排除数据

select_related 相关查询

filters 过滤条件

excludes 过滤条件(排除作用)

select_related语句

``` = awai
const {data} = wait app.getRows({
query:{
	table_name:'category',
	limit:10,
	offset: 0
}
})

// 简化版本
const{data} = await app.query({
	table_name: 'category',
	limit:10,
	offset:0
})
await app.createRow('product',{
	name:'test'
})
await app.updateRow(6038,{
	name:'test1'
})

await app.removeRow(6038)

```

云函数

```python
@app.register_func()
def handler_name(event,context):
    ...
    return{
        "message":"Hello world!",
    }
```

前端调用方法:app.run('handler_name') 或 app.run('handler_name',kwargs)

管理界面请使用:

app.runAdmin('handler_name),app.runAdmin('handler_name',kwargs)

每个 `handler` 有且只有两个参数，`event` 代表前端传入的参数 `kwargs`， `context` 是一个对象，此对象提供了一些上下文信息和一些必要的方法。

在云函数里面使用dcode

在dcode里面有预留给ccode使用的usecase一般使用方法为

from app.usecases import ChargeUsecase

如果没有你想要的usecase 你可以考虑往这个文件里面添加内容(如果不需要更改model,那么可以在线上写CcodeUsecase,同时提交到dcode,着牙就既可以实时用上新Usercase又能在dcode更新后将依赖改到dcode的开饭usecase)

云函数类型

云函数注册类型

为什么需要注册不注册存在安全问题,不注册会默认暴露所有函数,而并不是所有函数对外界访问都是合法的 

不注册难以知到一个应用具体暴露出了哪些云函数,注册之后可以自动统计云函数的注册信息.

注册时可以提供权限校验和数据校验支持.

注册之后可以跟据云函数列表生成文档甚至进行自动化测试

类型

```python
import app
# 注册普通应用云函数,这还死目前使用的大部分云函数,这种云函数只能在应用内使用
@app.register_func()
def func(event,context):
    return {}
#注册系统事件回调
@app.register_event()
# 注册应用云计划任务
@app.register_task()
# 注册一个可以独立在应用之外运行的公开 API
@app.register_api()
```

函数支持:

@app.register_func()

事件支持

@app.register_event()

def on_event_name(event,context):

​	pass

云函数事件列表

系统级事件

系统级时间会在事件发生时推送给所有监听了事件且用户已安装的应用

特定应用事件

特定应用事件只会在特定条件发生时推送给特定应用

问题: vuetodomvc

```

```

今天学了 todomvc简单的编写,获取用户的输入,将用户的输入展示到列表中,数组的添加和删除,

删除

js:splice

 delete

shift

pop

添加

unshift

push

html  v-for  v-model

js  数组



今天 todomvc还剩数据存储功能,小程序基本概念,小程序的官方文档.组件库,语法,官方基础组件库

今天发现的问题有,js的编写,data的使用 methods的使用

以及给todomvc的添加和删除功能,v-model

v2ray代理服务器的运行

cd 切换到解压目录下

./v2ray

然后切换到谷歌浏览器 地址栏旁边第一个黑圈 点击 proxy

明天任务

上面剩下的完成之后,

,基础商城代码熟悉,简化版商城开发.

#  day 3

## 小程序官方文档

小程序开发优势

在线开发,代码实时更新

具备在浏览器渲染小程序能力

支持ES6+语法

支持无限制的样式自定义设置

屏蔽小程序平台的各种细节和问题

高可扩展性,自由组合组件搭建小程序

小程序不支持标准引用

wjs之间不能互相引用,但是可以通过魔法注释include其他文件

css不能使用import语句,但是可以通过魔法注释include其他文件

场景1  某个应用的admin_pc.js修改了数据想要dwapp_mobile.wjs重新渲染

可以在dwapp_mobile.wjs中监听事件,在admin_pc.js触发事件即可

//dwapp_mobile.wjs

dw.event.on('update',item =>{

​	console.log('update',item)

})

//admin_pc.js

dw.event.emit('update',item)





技术细节



dw.setData(key,value)支持修改嵌套对象

export default{

​	data:{

​	key1:1,

​	obj:{

​	key2:3

​		}

​	},

onShow(){

​	dw.setData('key1',2)

​	dw.setData('obj.key2',4)

​	}

}

dw.alert 弹出窗口

登录相关的问题处理

async onShow(){

​	if (dw.app.wxLogin()){

​	}

}

## 小程序wxml文档

- tag 标签: 通过不同的标签提供不同的功能
- attr 属性: 通过属性定义一个标签的自定义功能
- childNodes: 部分标签支持嵌套子节点
- textNode: 文本节点
- commentNode: 注释节点

style 静态样式

class 静态类

:dw-class 动态绑定一个变量作为class



事件绑定

@click.native = 'handleClick'

data-bind-value 绑定变量

data-string-value 绑定字符串

data-bind-valueb 绑定变量2

data-string-valueb 绑定字符串2

绑定多个参数:

data-bind-value="{param1: value1, param2: value2, param3: value3}"

条件语句

v-if

v-else-if

v-else

循环语句

v-for  Vue循环声明

for-item 小程序循环声明

for-items 小程序循环声明

:key  vue key 绑定

key 小程序key 绑定

for-index 小程序index 绑定

for-index 使用举例

<wx-for v-for="(item,index) in items" for-item = "item" for items="items" for-key = "index">

​	<wx-view>{{ index}}</wx-view>

</wx-for>

## 小程序基础组件

wx-view 块级容器

```
<wx-view
class="b-view"
:dw-class = "slide.dwdata.dynamicClass"
></wx-view>
```

wx-scroll-view 可滚动视图区域

```
<wx-scroll-view class="b-items" scroll-y="true"></wx-scroll-view>

```

wx-swiper 滑块视图容器

```
<wx-swiper class="b-items" :settings="slide.dwdata.settings">
  <wx-swiper-item class="b-item">1</wx-swiper-item>
  <wx-swiper-item class="b-item">2</wx-swiper-item>
  <wx-swiper-item class="b-item">3</wx-swiper-item>
  <wx-swiper-item class="b-item">4</wx-swiper-item>
</wx-swiper>
```

```
export default {
  data: {
    lock: false,
    settings: {
      duration: 500,
      interval: 5000,
      autoplay: true,
      'indicator-dots': true
    }
  }
}
```

```
.b-items {
  height: 200pm;
}
```

注意

* wx-swiper必须固定高度
* 下面必须接 wx-swiper-item组件
* 可以和wx-for结合使用,但是不能在wx-for 和wx-swiper-item添加class,因为wx-for是虚拟的

wx-image 图片组件

```
<wx-image
	class = "b-image"
	:src="gift.img_url"
	mode = "widthFix"></wx-image>
```

wx-input 文本框

```

```

